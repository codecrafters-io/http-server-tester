Debug = true

[33m[stage-3] [0m[94mRunning tests for Stage #3: pe1[0m
[33m[stage-3] [0m[36mRunning program[0m
[33m[stage-3] [0m[94m$ ./your_server.sh --directory /tmp/data/codecrafters.io/http-server-tester/[0m
[33m[stage-3] [0m[94mTesting existing file[0m
[33m[stage-3] [0m[36mCreating file orange_raspberry_mango_pear in /tmp/data/codecrafters.io/http-server-tester/[0m
[33m[stage-3] [0m[36mFile Content: "banana blueberry banana pear orange grape grape apple"[0m
[33m[stage-3] [0m[36mCreating connection[0m
[33m[stage-3] [0m[36mSending first set of requests[0m
[33m[stage-3] [0m[94m$ curl --http1.1 -v http://localhost:4221/files/orange_raspberry_mango_pear http://localhost:4221/user-agent -H "User-Agent: mango/grape" [0m
[33m[stage-3] [0m[36m> GET /files/orange_raspberry_mango_pear HTTP/1.1[0m
[33m[stage-3] [0m[36m> Host: localhost:4221[0m
[33m[stage-3] [0m[36m> [0m
[33m[stage-3] [0m[36mSent bytes: "GET /files/orange_raspberry_mango_pear HTTP/1.1\r\nHost: localhost:4221\r\n\r\n"[0m
[33m[stage-3] [0m[36mReceived bytes: "HTTP/1.1 200 OK\r\nContent-Type: application/octet-stream\r\nContent-Length: 53\r\n\r\nbanana blueberry banana pear orange grape grape apple"[0m
[33m[stage-3] [0m[36m< HTTP/1.1 200 OK[0m
[33m[stage-3] [0m[36m< Content-Type: application/octet-stream[0m
[33m[stage-3] [0m[36m< Content-Length: 53[0m
[33m[stage-3] [0m[36m< [0m
[33m[stage-3] [0m[36m< banana blueberry banana pear orange grape grape apple[0m
[33m[stage-3] [0m[36m< [0m
[33m[stage-3] [0m[36m* Connection #0 to host localhost left intact[0m
[33m[stage-3] [0m[92mReceived response with 200 status code[0m
[33m[stage-3] [0m[92mâœ“ Content-Type header is present[0m
[33m[stage-3] [0m[92mâœ“ Content-Length header is present[0m
[33m[stage-3] [0m[92mâœ“ Body is correct[0m
[33m[stage-3] [0m[36m> GET /user-agent HTTP/1.1[0m
[33m[stage-3] [0m[36m> Host: localhost:4221[0m
[33m[stage-3] [0m[36m> User-Agent: mango/grape[0m
[33m[stage-3] [0m[36m> [0m
[33m[stage-3] [0m[36mSent bytes: "GET /user-agent HTTP/1.1\r\nHost: localhost:4221\r\nUser-Agent: mango/grape\r\n\r\n"[0m
[33m[stage-3] [0m[36mReceived bytes: "HTTP/1.1 200 OK\r\nContent-Length: 11\r\nContent-Type: text/plain\r\n\r\nmango/grape"[0m
[33m[stage-3] [0m[36m< HTTP/1.1 200 OK[0m
[33m[stage-3] [0m[36m< Content-Length: 11[0m
[33m[stage-3] [0m[36m< Content-Type: text/plain[0m
[33m[stage-3] [0m[36m< [0m
[33m[stage-3] [0m[36m< mango/grape[0m
[33m[stage-3] [0m[36m< [0m
[33m[stage-3] [0m[36m* Connection #0 to host localhost left intact[0m
[33m[stage-3] [0m[92mReceived response with 200 status code[0m
[33m[stage-3] [0m[92mâœ“ Content-Type header is present[0m
[33m[stage-3] [0m[92mâœ“ Content-Length header is present[0m
[33m[stage-3] [0m[92mâœ“ Body is correct[0m
[33m[stage-3] [0m[36mSending second set of requests[0m
[33m[stage-3] [0m[94m$ curl --http1.1 -v http://localhost:4221/files/orange_raspberry_mango_pear http://localhost:4221/user-agent -H "User-Agent: mango/grape" [0m
[33m[stage-3] [0m[36m> GET /files/orange_raspberry_mango_pear HTTP/1.1[0m
[33m[stage-3] [0m[36m> Host: localhost:4221[0m
[33m[stage-3] [0m[36m> [0m
[33m[stage-3] [0m[36mSent bytes: "GET /files/orange_raspberry_mango_pear HTTP/1.1\r\nHost: localhost:4221\r\n\r\n"[0m
[33m[stage-3] [0m[36mReceived bytes: "HTTP/1.1 200 OK\r\nContent-Type: application/octet-stream\r\nContent-Length: 53\r\n\r\nbanana blueberry banana pear orange grape grape apple"[0m
[33m[stage-3] [0m[36m< HTTP/1.1 200 OK[0m
[33m[stage-3] [0m[36m< Content-Type: application/octet-stream[0m
[33m[stage-3] [0m[36m< Content-Length: 53[0m
[33m[stage-3] [0m[36m< [0m
[33m[stage-3] [0m[36m< banana blueberry banana pear orange grape grape apple[0m
[33m[stage-3] [0m[36m< [0m
[33m[stage-3] [0m[36m* Connection #0 to host localhost left intact[0m
[33m[stage-3] [0m[92mReceived response with 200 status code[0m
[33m[stage-3] [0m[92mâœ“ Content-Type header is present[0m
[33m[stage-3] [0m[92mâœ“ Content-Length header is present[0m
[33m[stage-3] [0m[92mâœ“ Body is correct[0m
[33m[stage-3] [0m[36m> GET /user-agent HTTP/1.1[0m
[33m[stage-3] [0m[36m> Host: localhost:4221[0m
[33m[stage-3] [0m[36m> User-Agent: mango/grape[0m
[33m[stage-3] [0m[36m> [0m
[33m[stage-3] [0m[36mSent bytes: "GET /user-agent HTTP/1.1\r\nHost: localhost:4221\r\nUser-Agent: mango/grape\r\n\r\n"[0m
[33m[stage-3] [0m[36mReceived bytes: "HTTP/1.1 200 OK\r\nContent-Length: 11\r\nContent-Type: text/plain\r\n\r\nmango/grape"[0m
[33m[stage-3] [0m[36m< HTTP/1.1 200 OK[0m
[33m[stage-3] [0m[36m< Content-Length: 11[0m
[33m[stage-3] [0m[36m< Content-Type: text/plain[0m
[33m[stage-3] [0m[36m< [0m
[33m[stage-3] [0m[36m< mango/grape[0m
[33m[stage-3] [0m[36m< [0m
[33m[stage-3] [0m[36m* Connection #0 to host localhost left intact[0m
[33m[stage-3] [0m[92mReceived response with 200 status code[0m
[33m[stage-3] [0m[92mâœ“ Content-Type header is present[0m
[33m[stage-3] [0m[92mâœ“ Content-Length header is present[0m
[33m[stage-3] [0m[92mâœ“ Body is correct[0m
[33m[stage-3] [0m[92mTest passed.[0m
[33m[stage-3] [0m[36mTerminating program[0m
[33m[stage-3] [0m[36mProgram terminated successfully[0m

[33m[stage-2] [0m[94mRunning tests for Stage #2: pe2[0m
[33m[stage-2] [0m[36mRunning program[0m
[33m[stage-2] [0m[94m$ ./your_server.sh --directory /tmp/data/codecrafters.io/http-server-tester/[0m
[33m[stage-2] [0m[36mCreating 2 persistent connections[0m
[33m[stage-2] [0m[36mSending first set of requests[0m
[33m[stage-2] [0m[94m$ curl --http1.1 -v http://localhost:4221/ http://localhost:4221/ [0m
[33m[stage-2] [0m[36mclient-2: > GET / HTTP/1.1[0m
[33m[stage-2] [0m[36mclient-2: > Host: localhost:4221[0m
[33m[stage-2] [0m[36mclient-2: > [0m
[33m[stage-2] [0m[36mclient-2: Sent bytes: "GET / HTTP/1.1\r\nHost: localhost:4221\r\n\r\n"[0m
[33m[stage-2] [0m[36mclient-2: Received bytes: "HTTP/1.1 200 OK\r\n\r\n"[0m
[33m[stage-2] [0m[36m< HTTP/1.1 200 OK[0m
[33m[stage-2] [0m[36m< [0m
[33m[stage-2] [0m[36m* Connection #2 to host localhost left intact[0m
[33m[stage-2] [0m[92mReceived response with 200 status code[0m
[33m[stage-2] [0m[36mclient-1: > GET / HTTP/1.1[0m
[33m[stage-2] [0m[36mclient-1: > Host: localhost:4221[0m
[33m[stage-2] [0m[36mclient-1: > [0m
[33m[stage-2] [0m[36mclient-1: Sent bytes: "GET / HTTP/1.1\r\nHost: localhost:4221\r\n\r\n"[0m
[33m[stage-2] [0m[36mclient-1: Received bytes: "HTTP/1.1 200 OK\r\n\r\n"[0m
[33m[stage-2] [0m[36m< HTTP/1.1 200 OK[0m
[33m[stage-2] [0m[36m< [0m
[33m[stage-2] [0m[36m* Connection #1 to host localhost left intact[0m
[33m[stage-2] [0m[92mReceived response with 200 status code[0m
[33m[stage-2] [0m[36mSending second set of requests[0m
[33m[stage-2] [0m[94m$ curl --http1.1 -v http://localhost:4221/ http://localhost:4221/ [0m
[33m[stage-2] [0m[36mclient-1: > GET / HTTP/1.1[0m
[33m[stage-2] [0m[36mclient-1: > Host: localhost:4221[0m
[33m[stage-2] [0m[36mclient-1: > [0m
[33m[stage-2] [0m[36mclient-1: Sent bytes: "GET / HTTP/1.1\r\nHost: localhost:4221\r\n\r\n"[0m
[33m[stage-2] [0m[36mclient-1: Received bytes: "HTTP/1.1 200 OK\r\n\r\n"[0m
[33m[stage-2] [0m[36m< HTTP/1.1 200 OK[0m
[33m[stage-2] [0m[36m< [0m
[33m[stage-2] [0m[36m* Connection #1 to host localhost left intact[0m
[33m[stage-2] [0m[92mReceived response with 200 status code[0m
[33m[stage-2] [0m[36mclient-2: > GET / HTTP/1.1[0m
[33m[stage-2] [0m[36mclient-2: > Host: localhost:4221[0m
[33m[stage-2] [0m[36mclient-2: > [0m
[33m[stage-2] [0m[36mclient-2: Sent bytes: "GET / HTTP/1.1\r\nHost: localhost:4221\r\n\r\n"[0m
[33m[stage-2] [0m[36mclient-2: Received bytes: "HTTP/1.1 200 OK\r\n\r\n"[0m
[33m[stage-2] [0m[36m< HTTP/1.1 200 OK[0m
[33m[stage-2] [0m[36m< [0m
[33m[stage-2] [0m[36m* Connection #2 to host localhost left intact[0m
[33m[stage-2] [0m[92mReceived response with 200 status code[0m
[33m[stage-2] [0m[92mTest passed.[0m
[33m[stage-2] [0m[36mTerminating program[0m
[33m[stage-2] [0m[36mProgram terminated successfully[0m

[33m[stage-1] [0m[94mRunning tests for Stage #1: pe3[0m
[33m[stage-1] [0m[36mRunning program[0m
[33m[stage-1] [0m[94m$ ./your_server.sh --directory /tmp/data/codecrafters.io/http-server-tester/[0m
[33m[stage-1] [0m[94mTesting existing file[0m
[33m[stage-1] [0m[36mCreating file raspberry_apple_apple_mango in /tmp/data/codecrafters.io/http-server-tester/[0m
[33m[stage-1] [0m[36mFile Content: "banana pear apple blueberry mango banana pear strawberry"[0m
[33m[stage-1] [0m[94mCreating 2 parallel connections[0m
[33m[stage-1] [0m[36mCreating connection 1[0m
[33m[stage-1] [0m[36mCreating connection 2[0m
[33m[stage-1] [0m[36mSending first set of requests to conn:1[0m
[33m[stage-1] [0m[94mclient-1: $ curl -v http://localhost:4221/echo/banana[0m
[33m[stage-1] [0m[36mclient-1: > GET /echo/banana HTTP/1.1[0m
[33m[stage-1] [0m[36mclient-1: > Host: localhost:4221[0m
[33m[stage-1] [0m[36mclient-1: > [0m
[33m[stage-1] [0m[36mclient-1: Sent bytes: "GET /echo/banana HTTP/1.1\r\nHost: localhost:4221\r\n\r\n"[0m
[33m[stage-1] [0m[36mclient-1: Received bytes: "HTTP/1.1 200 OK\r\nContent-Length: 6\r\nContent-Type: text/plain\r\n\r\nbanana"[0m
[33m[stage-1] [0m[36mclient-1: < HTTP/1.1 200 OK[0m
[33m[stage-1] [0m[36mclient-1: < Content-Length: 6[0m
[33m[stage-1] [0m[36mclient-1: < Content-Type: text/plain[0m
[33m[stage-1] [0m[36mclient-1: < [0m
[33m[stage-1] [0m[36mclient-1: < banana[0m
[33m[stage-1] [0m[36mclient-1: < [0m
[33m[stage-1] [0m[92mReceived response with 200 status code[0m
[33m[stage-1] [0m[92mâœ“ Content-Type header is present[0m
[33m[stage-1] [0m[92mâœ“ Content-Length header is present[0m
[33m[stage-1] [0m[92mâœ“ Body is correct[0m
[33m[stage-1] [0m[94mclient-1: $ curl -v http://localhost:4221/files/raspberry_apple_apple_mango -H "Connection: close"[0m
[33m[stage-1] [0m[36mclient-1: > GET /files/raspberry_apple_apple_mango HTTP/1.1[0m
[33m[stage-1] [0m[36mclient-1: > Host: localhost:4221[0m
[33m[stage-1] [0m[36mclient-1: > Connection: close[0m
[33m[stage-1] [0m[36mclient-1: > [0m
[33m[stage-1] [0m[36mclient-1: Sent bytes: "GET /files/raspberry_apple_apple_mango HTTP/1.1\r\nHost: localhost:4221\r\nConnection: close\r\n\r\n"[0m
[33m[stage-1] [0m[36mclient-1: Received bytes: "HTTP/1.1 200 OK\r\nContent-Type: application/octet-stream\r\nConnection: close\r\nContent-Length: 56\r\n\r\nbanana pear apple blueberry mango banana pear strawberry"[0m
[33m[stage-1] [0m[36mclient-1: < HTTP/1.1 200 OK[0m
[33m[stage-1] [0m[36mclient-1: < Content-Type: application/octet-stream[0m
[33m[stage-1] [0m[36mclient-1: < Connection: close[0m
[33m[stage-1] [0m[36mclient-1: < Content-Length: 56[0m
[33m[stage-1] [0m[36mclient-1: < [0m
[33m[stage-1] [0m[36mclient-1: < banana pear apple blueberry mango banana pear strawberry[0m
[33m[stage-1] [0m[36mclient-1: < [0m
[33m[stage-1] [0m[92mReceived response with 200 status code[0m
[33m[stage-1] [0m[92mâœ“ Content-Type header is present[0m
[33m[stage-1] [0m[92mâœ“ Content-Length header is present[0m
[33m[stage-1] [0m[92mâœ“ Connection header is present[0m
[33m[stage-1] [0m[92mâœ“ Body is correct[0m
[33m[stage-1] [0m[36mSending second set of requests to conn:2[0m
[33m[stage-1] [0m[94mclient-2: $ curl -v http://localhost:4221/echo/banana[0m
[33m[stage-1] [0m[36mclient-2: > GET /echo/banana HTTP/1.1[0m
[33m[stage-1] [0m[36mclient-2: > Host: localhost:4221[0m
[33m[stage-1] [0m[36mclient-2: > [0m
[33m[stage-1] [0m[36mclient-2: Sent bytes: "GET /echo/banana HTTP/1.1\r\nHost: localhost:4221\r\n\r\n"[0m
[33m[stage-1] [0m[36mclient-2: Received bytes: "HTTP/1.1 200 OK\r\nContent-Length: 6\r\nContent-Type: text/plain\r\n\r\nbanana"[0m
[33m[stage-1] [0m[36mclient-2: < HTTP/1.1 200 OK[0m
[33m[stage-1] [0m[36mclient-2: < Content-Length: 6[0m
[33m[stage-1] [0m[36mclient-2: < Content-Type: text/plain[0m
[33m[stage-1] [0m[36mclient-2: < [0m
[33m[stage-1] [0m[36mclient-2: < banana[0m
[33m[stage-1] [0m[36mclient-2: < [0m
[33m[stage-1] [0m[92mReceived response with 200 status code[0m
[33m[stage-1] [0m[92mâœ“ Content-Type header is present[0m
[33m[stage-1] [0m[92mâœ“ Content-Length header is present[0m
[33m[stage-1] [0m[92mâœ“ Body is correct[0m
[33m[stage-1] [0m[94mclient-2: $ curl -v http://localhost:4221/files/raspberry_apple_apple_mango -H "Connection: close"[0m
[33m[stage-1] [0m[36mclient-2: > GET /files/raspberry_apple_apple_mango HTTP/1.1[0m
[33m[stage-1] [0m[36mclient-2: > Host: localhost:4221[0m
[33m[stage-1] [0m[36mclient-2: > Connection: close[0m
[33m[stage-1] [0m[36mclient-2: > [0m
[33m[stage-1] [0m[36mclient-2: Sent bytes: "GET /files/raspberry_apple_apple_mango HTTP/1.1\r\nHost: localhost:4221\r\nConnection: close\r\n\r\n"[0m
[33m[stage-1] [0m[36mclient-2: Received bytes: "HTTP/1.1 200 OK\r\nContent-Type: application/octet-stream\r\nConnection: close\r\nContent-Length: 56\r\n\r\nbanana pear apple blueberry mango banana pear strawberry"[0m
[33m[stage-1] [0m[36mclient-2: < HTTP/1.1 200 OK[0m
[33m[stage-1] [0m[36mclient-2: < Content-Type: application/octet-stream[0m
[33m[stage-1] [0m[36mclient-2: < Connection: close[0m
[33m[stage-1] [0m[36mclient-2: < Content-Length: 56[0m
[33m[stage-1] [0m[36mclient-2: < [0m
[33m[stage-1] [0m[36mclient-2: < banana pear apple blueberry mango banana pear strawberry[0m
[33m[stage-1] [0m[36mclient-2: < [0m
[33m[stage-1] [0m[92mReceived response with 200 status code[0m
[33m[stage-1] [0m[92mâœ“ Content-Type header is present[0m
[33m[stage-1] [0m[92mâœ“ Content-Length header is present[0m
[33m[stage-1] [0m[92mâœ“ Connection header is present[0m
[33m[stage-1] [0m[92mâœ“ Body is correct[0m
[33m[stage-1] [0m[92mTest passed.[0m
[33m[stage-1] [0m[36mTerminating program[0m
[33m[stage-1] [0m[36mProgram terminated successfully[0m
